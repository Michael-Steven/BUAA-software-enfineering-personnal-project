# BUAA2020软工个人项目——求交点个数

## 一、目录结构

目录如下所示：

```
IntersectProject/
├── bin
│   ├── intersect.exe
├── README.md
├── src
│   ├── IntersectProject.cpp
│   └── IntersectProject.h
└── test
    └── test.cpp
```

## 二、运行说明

在`bin`目录下，使用：

```c
./intersect.exe -i input.txt -o output.txt
```

其中input.txt存放输入数据，output.txt是输出。

## 三、基本需求

给定 N 条直线，询问平面中有多少个点在**至少 2 条**给定的直线上。**题目输入保证答案只有有限个。**

### 输入格式

-   第 1 行：一个自然数 N >= 1，表示输入的直线的数目。**注**：具体的 N 的限制参见评分规则。
-   第 2 行至第 N + 1 行：每行描述一条直线。具体格式如下：
    -   直线：`L <x1> <y1> <x2> <y2>    `，表示通过点 (x1, y1) 和 (x2, y2) 的直线。输入保证给定两点不重合。

所有直线参数均为整数，范围为 (-100000, 100000)。

### 输出格式

共 1 行，输出平面中满足需求的点的数目。

### 样例 1

#### 输入

```
1
L 0 0 1 1
```

#### 输出

```
0
```

#### 解释

因为只有一条直线，因此平面中不存在一个点在至少 2 条给定的直线上，故答案为 0。

### 样例 2

#### 输入

```
3
L 0 0 1 1
L 1 0 0 1
L 1 2 2 0
```

#### 输出

```
3
```

#### 解释

![example_case_2.png](https://img2020.cnblogs.com/other/1228025/202003/1228025-20200303222857772-1861335709.png)

上图给出了样例 2 的图示。其中三条直线分别为 A1A2，B1B2，C1C2。三个交点分别为 I1，I2 和 I3，答案为 3。

### 样例 3

#### 输入

```
3
L 0 0 1 1
L 0 0 0 1
L 0 0 -1 0
```

#### 输出

```
1
```

#### 解释

![example_case_3.png](https://img2020.cnblogs.com/other/1228025/202003/1228025-20200303222946543-1539826641.png)

上图给出了样例 3 的图示。其中三条直线分别为 AB，AC，AD。平面中只有（在给定的三条直线上的）点 A 满足在至少 2 条给定的直线上的条件，因此答案为 1。

## 四、附加题

给定 N 个几何对象，询问平面中有多少个点在**至少 2 个**给定的几何对象上。**题目输入保证答案只有有限个。**

需要支持的几何对象为：直线，圆。

**注**：附加题与基础需求的区别在于增加了对圆的支持。

### 输入格式

-   第 1 行：一个自然数 N >= 1，表示输入的几何对象的数目。**注**：具体的 N 的限制参见评分规则。
-   第 2 行至第 N + 1 行：每行描述一个几何对象。具体格式如下：
    -   直线：`L <x1> <y1> <x2> <y2>    `，表示通过点 (x1, y1) 和 (x2, y2) 的直线。输入保证给定两点不重合。
    -   圆：`C <x> <y> <r>   `，表示以点 (x, y) 为中心，半径为 r 的圆。输入保证半径 r > 0。

所有几何对象参数均为整数，范围为 (-100000, 100000)。

### 输出格式

共 1 行，输出平面中满足需求的点的数目。

### 样例 1

#### 输入

```
4
C 1 0 2
C 2 2 1
C 3 -2 6
L -1 4 4 -1
```

#### 输出

```
6
```

#### 解释

![extra-example_case_1.png](https://img2020.cnblogs.com/other/1228025/202003/1228025-20200303223006804-480179845.png)

上图给出了样例 1 的图示。样例中包含的几何对象为三个圆和一条直线。三个圆分别为圆 A，圆 B，圆 C；一条直线为 D1D2。图中满足题目要求的点共 6 个，第 n 个点以 In 表示。因此答案为 6。